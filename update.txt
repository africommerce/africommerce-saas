refactor: optimize profile update logic for reusability
